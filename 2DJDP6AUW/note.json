{
  "paragraphs": [
    {
      "text": "%md\n\n# 602. Friend Requests II: Who has the most friends\n\nIn social network like Facebook or Twitter, people send friend requests and accept others\u0027 requests as well.\nTable request_accepted holds the data of friend acceptance, while requester_id and accepter_id both are the id of a person.\n\n| requester_id | accepter_id | accept_date|\n|--------------|-------------|------------|\n| 1            | 2           | 2016_06-03 |\n| 1            | 3           | 2016-06-08 |\n| 2            | 3           | 2016-06-08 |\n| 3            | 4           | 2016-06-09 |\n\n\nWrite a query to find the the people who has most friends and the most friends number. For the sample data above, the result is:\n\n| id | num |\n|----|-----|\n| 3  | 3   |\n\n\n**Note:**\nIt is guaranteed there is only 1 people having the most friends.\nThe friend request could only been accepted once, which mean there is no multiple records with the same requester_id and accepter_id value.\n\n**Explanation:**\nThe person with id \u00273\u0027 is a friend of people \u00271\u0027, \u00272\u0027 and \u00274\u0027, so he has 3 friends in total, which is the most number than any others.\n\n**Follow-up:**\nIn the real world, multiple people could have the same most number of friends, can you find all these people in this case?",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 5:10:34 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch1\u003e602. Friend Requests II: Who has the most friends\u003c/h1\u003e\n\u003cp\u003eIn social network like Facebook or Twitter, people send friend requests and accept others\u0026rsquo; requests as well.\u003cbr/\u003eTable request_accepted holds the data of friend acceptance, while requester_id and accepter_id both are the id of a person.\u003c/p\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003erequester_id \u003c/th\u003e\n      \u003cth\u003eaccepter_id \u003c/th\u003e\n      \u003cth\u003eaccept_date\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e1 \u003c/td\u003e\n      \u003ctd\u003e2 \u003c/td\u003e\n      \u003ctd\u003e2016_06-03 \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e1 \u003c/td\u003e\n      \u003ctd\u003e3 \u003c/td\u003e\n      \u003ctd\u003e2016-06-08 \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e2 \u003c/td\u003e\n      \u003ctd\u003e3 \u003c/td\u003e\n      \u003ctd\u003e2016-06-08 \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e3 \u003c/td\u003e\n      \u003ctd\u003e4 \u003c/td\u003e\n      \u003ctd\u003e2016-06-09 \u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eWrite a query to find the the people who has most friends and the most friends number. For the sample data above, the result is:\u003c/p\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eid \u003c/th\u003e\n      \u003cth\u003enum \u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e3 \u003c/td\u003e\n      \u003ctd\u003e3 \u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e\u003cbr/\u003eIt is guaranteed there is only 1 people having the most friends.\u003cbr/\u003eThe friend request could only been accepted once, which mean there is no multiple records with the same requester_id and accepter_id value.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExplanation:\u003c/strong\u003e\u003cbr/\u003eThe person with id \u0026lsquo;3\u0026rsquo; is a friend of people \u0026lsquo;1\u0026rsquo;, \u0026lsquo;2\u0026rsquo; and \u0026lsquo;4\u0026rsquo;, so he has 3 friends in total, which is the most number than any others.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eFollow-up:\u003c/strong\u003e\u003cbr/\u003eIn the real world, multiple people could have the same most number of friends, can you find all these people in this case?\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1529167409129_-2004953826",
      "id": "20180616-094329_2047841853",
      "dateCreated": "Jun 16, 2018 9:43:29 AM",
      "dateStarted": "Jun 16, 2018 9:45:03 AM",
      "dateFinished": "Jun 16, 2018 9:45:03 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n### Creating the schema:",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 5:10:36 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCreating the schema:\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1529167450633_-623058370",
      "id": "20180616-094410_1997436357",
      "dateCreated": "Jun 16, 2018 9:44:10 AM",
      "dateStarted": "Jun 16, 2018 9:47:56 AM",
      "dateFinished": "Jun 16, 2018 9:47:56 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%mysql\n\nuse leetcode;\ndrop table if exists request_accepted;\nCreate table If Not Exists request_accepted ( requester_id INT NOT NULL, accepter_id INT NULL, accept_date DATE NULL);\nTruncate table request_accepted;\ninsert into request_accepted (requester_id, accepter_id, accept_date) values (\u00271\u0027, \u00272\u0027, \u00272016/06/03\u0027);\ninsert into request_accepted (requester_id, accepter_id, accept_date) values (\u00271\u0027, \u00273\u0027, \u00272016/06/08\u0027);\ninsert into request_accepted (requester_id, accepter_id, accept_date) values (\u00272\u0027, \u00273\u0027, \u00272016/06/08\u0027);\ninsert into request_accepted (requester_id, accepter_id, accept_date) values (\u00273\u0027, \u00274\u0027, \u00272016/06/09\u0027);\n",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 5:10:40 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "tableHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 0"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 0"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 0"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 0"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 1"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 1"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 1"
          },
          {
            "type": "TEXT",
            "data": "Query executed successfully. Affected rows : 1"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1529167676330_-120254499",
      "id": "20180616-094756_1326545818",
      "dateCreated": "Jun 16, 2018 9:47:56 AM",
      "dateStarted": "Jun 16, 2018 4:24:08 PM",
      "dateFinished": "Jun 16, 2018 4:24:08 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n### Solution:\n",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 5:10:43 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eSolution:\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1529167683080_1713458759",
      "id": "20180616-094803_1855174021",
      "dateCreated": "Jun 16, 2018 9:48:03 AM",
      "dateStarted": "Jun 16, 2018 9:48:18 AM",
      "dateFinished": "Jun 16, 2018 9:48:18 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%mysql\n\nSELECT \n    a.requester_id id, \n    (SELECT\n        count(1) \n    FROM \n        request_accepted b \n    WHERE\n        b.accepter_id \u003d a.requester_id OR\n        b.requester_id \u003d a.requester_id\n    ) num \nFROM\n    request_accepted a \nORDER BY\n    num DESC \nLIMIT 1",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 5:10:45 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 84.0,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "requester_id\tnum\n3\t3\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1529167698257_378395400",
      "id": "20180616-094818_1858383565",
      "dateCreated": "Jun 16, 2018 9:48:18 AM",
      "dateStarted": "Jun 16, 2018 4:24:16 PM",
      "dateFinished": "Jun 16, 2018 4:24:16 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "",
      "user": "anonymous",
      "dateUpdated": "Jun 16, 2018 10:00:07 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1529167843029_58269514",
      "id": "20180616-095043_956258310",
      "dateCreated": "Jun 16, 2018 9:50:43 AM",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "/Projects/LeetCode/SQL/602-Friend-Requests-II",
  "id": "2DJDP6AUW",
  "angularObjects": {
    "2DAYU89SS:shared_process": [],
    "2DDQSJVFJ:shared_process": [],
    "2DDRQ3EGF:shared_process": [],
    "2DAC6PCDF:shared_process": [],
    "2DCGKHP4X:shared_process": [],
    "2DCKV7Z65:shared_process": [],
    "2DCHXF5E2:shared_process": [],
    "2DAPCYJSD:shared_process": [],
    "2DAGQ147Z:shared_process": [],
    "2DCHTWN3K:shared_process": [],
    "2D9WBXRZW:shared_process": [],
    "2DD85KCR5:shared_process": [],
    "2DAVS8PUV:shared_process": [],
    "2D9TER1EK:shared_process": [],
    "2DDRY789B:shared_process": [],
    "2DCYG9151:shared_process": [],
    "2DAVDNEQR:shared_process": [],
    "2DA5S2HBS:shared_process": [],
    "2DAZ1FM86:shared_process": [],
    "2D9X4Y6M2:shared_process": [],
    "2DB1FD14B:shared_process": []
  },
  "config": {},
  "info": {}
}